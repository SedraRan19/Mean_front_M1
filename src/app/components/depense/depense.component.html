<mat-card class="no-shadow">
    <mat-card-content>
        <mat-toolbar>
            <h3>Ajout dépense</h3>
            <span class="example-spacer"></span>
            <button mat-raised-button class="me-8 mb-8 ml-auto" color="primary"
                (click)="openNewDepense()">Nouveau</button>
        </mat-toolbar>
    </mat-card-content>
</mat-card>

<div class="card" *ngIf="isNewDepenseVisible">
    <div class="card-body">
        <h4 class="mb-32">Nouvelle offre spéciale</h4>
        <form (ngSubmit)="onSubmitNewDepense()">
            <mat-form-field class="me-24 fs-16" appearance="outline">
                <mat-label>Nom</mat-label>
                <input matInput [(ngModel)]="newDepense.name" name="name">
            </mat-form-field>

            <mat-form-field class="me-24 fs-16" appearance="outline">
                <mat-label>Montant</mat-label>
                <input matInput type="number" [(ngModel)]="newDepense.amount" name="amount">
              </mat-form-field>

            <mat-form-field class="me-24 fs-16" appearance="outline">
                <mat-label>Date</mat-label>
                <input matInput type="date" [(ngModel)]="newDepense.date" name="date" />
            </mat-form-field>

            <mat-form-field class="me-24 fs-16" appearance="outline">
                <mat-label>Description</mat-label>
                <input matInput [(ngModel)]="newDepense.description" name="description">
            </mat-form-field>

            <button mat-raised-button class="me-8 mb-8" type="button" (click)="closeNewDepense()">Fermer</button>
            <button mat-raised-button class="me-8 mb-8 ml-auto" type="submit" color="primary">Valider</button>
        </form>
    </div>
</div>

<mat-card class="w-100">
    <mat-card-content>
        <h4 class="mb-32">Les dépenses</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nom</th>
                    <th>Montant</th>
                    <th>Date</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let res of depenses;let i = index ">
                    <td>{{ i + 1 }}</td>
                    <td>{{ res.name }}</td>
                    <td>{{ res.amount }}</td>
                    <td>{{ res.date | date: 'yyyy-MM-dd'}}</td>
                    <td>{{ res.description }}</td>
                    <td>
                        <button mat-icon-button color="basic" (click)="onEdit(res)">
                            <mat-icon>information</mat-icon>
                        </button>
                        <button mat-icon-button color="warn" (click)="onDelete(res._id)">
                            <mat-icon>delete</mat-icon>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </mat-card-content>
</mat-card>